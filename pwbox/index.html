<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `pwbox` crate."><meta name="keywords" content="rust, rustlang, rust-lang, pwbox"><title>pwbox - Rust</title><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../ayu.css" disabled ><script src="../storage.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="icon" type="image/svg+xml" href="../favicon.svg">
<link rel="alternate icon" type="image/png" href="../favicon-16x16.png">
<link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><style type="text/css">#crate-search{background-image:url("../down-arrow.svg");}</style></head><body class="rustdoc mod"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu">&#9776;</div><a href='../pwbox/index.html'><div class='logo-container rust-logo'><img src='../rust-logo.png' alt='logo'></div></a><p class="location">Crate pwbox</p><div class="block version"><p>Version 0.4.0</p></div><div class="sidebar-elems"><a id="all-types" href="all.html"><p>See all pwbox's items</p></a><div class="block items"><ul><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li></ul></div><p class="location"></p><script>window.sidebarCurrent = {name: "pwbox", ty: "mod", relpath: "../"};</script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!"><img src="../brush.svg" width="18" alt="Pick another theme!"></button><div id="theme-choices"></div></div><script src="../theme.js"></script><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><span class="help-button">?</span>
                <a id="settings-menu" href="../settings.html"><img src="../wheel.svg" width="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../src/pwbox/lib.rs.html#15-466" title="goto source code">[src]</a></span><span class="in-band">Crate <a class="mod" href="">pwbox</a></span></h1><div class="docblock"><p>Password-based encryption and decryption for Rust.</p>
<h1 id="overview" class="section-header"><a href="#overview">Overview</a></h1>
<p>This crate provides the container for password-based encryption, <a href="../pwbox/struct.PwBox.html" title="PwBox"><code>PwBox</code></a>,
which can be composed of <a href="../pwbox/trait.DeriveKey.html">key derivation</a> and authenticated symmetric <a href="../pwbox/trait.Cipher.html" title="Cipher"><code>Cipher</code></a> cryptographic
primitives. In turn, authenticated symmetric ciphers can be composed from an
<a href="../pwbox/trait.UnauthenticatedCipher.html" title="UnauthenticatedCipher"><code>UnauthenticatedCipher</code></a> and a message authentication code (<a href="../pwbox/trait.Mac.html" title="Mac"><code>Mac</code></a>).
The crate provides several pluggable cryptographic <a href="../pwbox/trait.Suite.html" title="Suite"><code>Suite</code></a>s with these primitives:</p>
<ul>
<li><a href="../pwbox/sodium/struct.Sodium.html"><code>Sodium</code></a></li>
<li><a href="../pwbox/rcrypto/struct.RustCrypto.html"><code>RustCrypto</code></a> (provides compatibility with Ethereum keystore; see its docs for more
details)</li>
<li><a href="../pwbox/pure/struct.PureCrypto.html"><code>PureCrypto</code></a> (pure Rust implementation; good for comiling into WASM
or for other constrained environments).</li>
</ul>
<p>There is also <a href="../pwbox/struct.Eraser.html" title="Eraser"><code>Eraser</code></a>, which allows to (de)serialize <a href="../pwbox/struct.PwBox.html" title="PwBox"><code>PwBox</code></a>es from any <code>serde</code>-compatible
format, such as JSON or TOML.</p>
<h1 id="naming" class="section-header"><a href="#naming">Naming</a></h1>
<p><code>PwBox</code> name was produced by combining two libsodium names: <code>pwhash</code> for password-based KDFs
and <code>*box</code> for ciphers.</p>
<h1 id="crate-features" class="section-header"><a href="#crate-features">Crate Features</a></h1>
<ul>
<li><code>std</code> (enabled by default): Enables types from the Rust standard library. Switching
this feature off can be used for constrained environments, such as WASM. Note that
the crate still requires an allocator (that is, the <code>alloc</code> crate) even
if the <code>std</code> feature is disabled.</li>
<li><code>exonum_sodiumoxide</code> (enabled by default), <code>rust-crypto</code>, <code>pure</code> (both disabled by default):
Provide the cryptographic backends described above.</li>
</ul>
<h1 id="examples" class="section-header"><a href="#examples">Examples</a></h1>
<p>Using the <code>Sodium</code> cryptosuite:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">rand</span>::<span class="ident">thread_rng</span>;
<span class="kw">use</span> <span class="ident">pwbox</span>::{<span class="ident">Eraser</span>, <span class="ident">ErasedPwBox</span>, <span class="ident">Suite</span>, <span class="ident">sodium</span>::<span class="ident">Sodium</span>};

<span class="comment">// Create a new box.</span>
<span class="kw">let</span> <span class="ident">pwbox</span> <span class="op">=</span> <span class="ident">Sodium</span>::<span class="ident">build_box</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">thread_rng</span>())
    .<span class="ident">seal</span>(<span class="string">b&quot;correct horse&quot;</span>, <span class="string">b&quot;battery staple&quot;</span>)<span class="question-mark">?</span>;

<span class="comment">// Serialize box.</span>
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">eraser</span> <span class="op">=</span> <span class="ident">Eraser</span>::<span class="ident">new</span>();
<span class="ident">eraser</span>.<span class="ident">add_suite</span>::<span class="op">&lt;</span><span class="ident">Sodium</span><span class="op">&gt;</span>();
<span class="kw">let</span> <span class="ident">erased</span>: <span class="ident">ErasedPwBox</span> <span class="op">=</span> <span class="ident">eraser</span>.<span class="ident">erase</span>(<span class="kw-2">&amp;</span><span class="ident">pwbox</span>)<span class="question-mark">?</span>;
<span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;{}&quot;</span>, <span class="ident">serde_json</span>::<span class="ident">to_string_pretty</span>(<span class="kw-2">&amp;</span><span class="ident">erased</span>)<span class="question-mark">?</span>);
<span class="comment">// Deserialize box back.</span>
<span class="kw">let</span> <span class="ident">plaintext</span> <span class="op">=</span> <span class="ident">eraser</span>.<span class="ident">restore</span>(<span class="kw-2">&amp;</span><span class="ident">erased</span>)<span class="question-mark">?</span>.<span class="ident">open</span>(<span class="string">b&quot;correct horse&quot;</span>)<span class="question-mark">?</span>;
<span class="macro">assert_eq</span><span class="macro">!</span>(<span class="kw-2">&amp;</span><span class="kw-2">*</span><span class="ident">plaintext</span>, <span class="string">b&quot;battery staple&quot;</span>);</pre></div>
</div><h2 id="modules" class="section-header"><a href="#modules">Modules</a></h2>
<table><tr class="module-item"><td><a class="mod" href="pure/index.html" title="pwbox::pure mod">pure</a></td><td class="docblock-short"><span class="stab portability" title="This is supported on crate feature `pure` only"><code>pure</code></span><p>Pure Rust crypto primitives. Can be used if your app targets WASM or some other constrained
environment.</p>
</td></tr><tr class="module-item"><td><a class="mod" href="rcrypto/index.html" title="pwbox::rcrypto mod">rcrypto</a></td><td class="docblock-short"><span class="stab portability" title="This is supported on crate feature `rust-crypto` only"><code>rust-crypto</code></span><p><code>rust-crypto</code> cryptographic backend.</p>
</td></tr><tr class="module-item"><td><a class="mod" href="sodium/index.html" title="pwbox::sodium mod">sodium</a></td><td class="docblock-short"><span class="stab portability" title="This is supported on crate feature `exonum_sodiumoxide` only"><code>exonum_sodiumoxide</code></span><p>Crypto primitives based on <code>libsodium</code>.</p>
</td></tr></table><h2 id="structs" class="section-header"><a href="#structs">Structs</a></h2>
<table><tr class="module-item"><td><a class="struct" href="struct.CipherOutput.html" title="pwbox::CipherOutput struct">CipherOutput</a></td><td class="docblock-short"><p>Output of a <code>Cipher</code>.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.CipherWithMac.html" title="pwbox::CipherWithMac struct">CipherWithMac</a></td><td class="docblock-short"><p>Authenticated cipher constructed from an ordinary symmetric cipher and a MAC construction.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.ErasedPwBox.html" title="pwbox::ErasedPwBox struct">ErasedPwBox</a></td><td class="docblock-short"><p>Password-encrypted box suitable for (de)serialization.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.Eraser.html" title="pwbox::Eraser struct">Eraser</a></td><td class="docblock-short"><p>Helper structure to convert password-encrypted boxes to a serializable format and back.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.MacMismatch.html" title="pwbox::MacMismatch struct">MacMismatch</a></td><td class="docblock-short"><p>Error corresponding to MAC mismatch in <a href="../pwbox/trait.Cipher.html#tymethod.open" title="Cipher::open()"><code>Cipher::open()</code></a>.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.PwBox.html" title="pwbox::PwBox struct">PwBox</a></td><td class="docblock-short"><p>Password-encrypted data.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.PwBoxBuilder.html" title="pwbox::PwBoxBuilder struct">PwBoxBuilder</a></td><td class="docblock-short"><p>Builder for <code>PwBox</code>es.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.RestoredPwBox.html" title="pwbox::RestoredPwBox struct">RestoredPwBox</a></td><td class="docblock-short"><p>Password-encrypted box restored after deserialization.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.ScryptParams.html" title="pwbox::ScryptParams struct">ScryptParams</a></td><td class="docblock-short"><p><code>Scrypt</code> key derivation function parameterized as per the original paper.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.SensitiveData.html" title="pwbox::SensitiveData struct">SensitiveData</a></td><td class="docblock-short"><p>Container for data obtained after opening a <code>PwBox</code>.</p>
</td></tr></table><h2 id="enums" class="section-header"><a href="#enums">Enums</a></h2>
<table><tr class="module-item"><td><a class="enum" href="enum.EraseError.html" title="pwbox::EraseError enum">EraseError</a></td><td class="docblock-short"><p>Errors occurring during erasing a <code>PwBox</code>.</p>
</td></tr><tr class="module-item"><td><a class="enum" href="enum.Error.html" title="pwbox::Error enum">Error</a></td><td class="docblock-short"><p>Errors occurring during <code>PwBox</code> operations.</p>
</td></tr></table><h2 id="traits" class="section-header"><a href="#traits">Traits</a></h2>
<table><tr class="module-item"><td><a class="trait" href="trait.Cipher.html" title="pwbox::Cipher trait">Cipher</a></td><td class="docblock-short"><p>Authenticated symmetric cipher.</p>
</td></tr><tr class="module-item"><td><a class="trait" href="trait.DeriveKey.html" title="pwbox::DeriveKey trait">DeriveKey</a></td><td class="docblock-short"><p>Key derivation function (KDF).</p>
</td></tr><tr class="module-item"><td><a class="trait" href="trait.Mac.html" title="pwbox::Mac trait">Mac</a></td><td class="docblock-short"><p>Message authentication code.</p>
</td></tr><tr class="module-item"><td><a class="trait" href="trait.Suite.html" title="pwbox::Suite trait">Suite</a></td><td class="docblock-short"><p>Cryptographic suite providing ciphers and KDFs for password-based encryption.</p>
</td></tr><tr class="module-item"><td><a class="trait" href="trait.UnauthenticatedCipher.html" title="pwbox::UnauthenticatedCipher trait">UnauthenticatedCipher</a></td><td class="docblock-short"><p>Symmetric cipher without built-in authentication.</p>
</td></tr></table></section><section id="search" class="content hidden"></section><section class="footer"></section><script>window.rootPath = "../";window.currentCrate = "pwbox";</script><script src="../main.js"></script><script defer src="../search-index.js"></script></body></html>